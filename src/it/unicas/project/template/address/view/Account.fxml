<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="700" prefWidth="1000" style="-fx-background-color: #f8fafc;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.unicas.project.template.address.view.AccountController">

    <children>
        <ScrollPane fitToWidth="true" style="-fx-background-color:transparent;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

            <content>
                <VBox spacing="30">
                    <padding>
                        <Insets bottom="30" left="30" right="30" top="30" />
                    </padding>

                    <!-- TITOLO -->
                    <Label text="Account" textFill="#1e293b">
                        <font>
                            <Font name="System Bold" size="28" />
                        </font>
                    </Label>

                    <!-- CARD PROFILO -->
                    <AnchorPane style="-fx-background-color:white;                                         -fx-background-radius:12;                                         -fx-effect:dropshadow(three-pass-box, rgba(0,0,0,0.05),10,0,0,5);">
                        <children>
                            <VBox spacing="20" AnchorPane.bottomAnchor="25" AnchorPane.leftAnchor="25" AnchorPane.rightAnchor="25" AnchorPane.topAnchor="25">

                                <children>

                                    <!-- Avatar + Username -->
                                    <HBox alignment="CENTER_LEFT" spacing="20">
                                        <children>
                                            <StackPane>
                                                <Circle fill="#eff6ff" radius="30" stroke="#3b82f6" strokeType="INSIDE" />
                                                <Label fx:id="lblInitials" text="?" textFill="#3b82f6">
                                                    <font><Font name="System Bold" size="20" /></font>
                                                </Label>
                                            </StackPane>

                                            <VBox prefHeight="0.0" prefWidth="95.0">
                                                <Label fx:id="lblUsername" prefHeight="65.0" prefWidth="95.0" text="Username" textFill="#334155">
                                                    <font><Font name="System Bold" size="20" /></font>
                                                </Label>
                                            </VBox>
                                        </children>
                                    </HBox>

                                    <Separator />

                                    <!-- CAMBIO PASSWORD -->
                                    <VBox spacing="12">
                                        <children>
                                            <Label text="Cambia password" textFill="#334155">
                                                <font><Font name="System Bold" size="16" /></font>
                                            </Label>

                                            <PasswordField fx:id="txtOldPwd" promptText="Password attuale" style="-fx-background-radius:8;" />

                                            <PasswordField fx:id="txtNewPwd" promptText="Nuova password" style="-fx-background-radius:8;" />

                                            <PasswordField fx:id="txtRepeatPwd" promptText="Ripeti nuova password" style="-fx-background-radius:8;" />

                                            <Button onAction="#handleSaveChanges" prefWidth="180" style="-fx-background-color:#3b82f6;                                                            -fx-text-fill:white;                                                            -fx-font-weight:bold;                                                            -fx-background-radius:8;" text="Salva modifiche" />
                                        </children>
                                    </VBox>

                                    <Separator />

                                    <!-- ELIMINA ACCOUNT -->
                                    <VBox spacing="10">
                                        <children>

                                            <Button onAction="#handleDeleteAccount" prefWidth="160" style="-fx-background-color:#ef4444;                                                            -fx-text-fill:white;                                                            -fx-font-weight:bold;                                                            -fx-background-radius:8;" text="Elimina account" />
                                            <Label textFill="#ef4444">
                                                <font><Font name="System Bold" size="16" /></font>
                                            </Label>
                                        </children>
                                    </VBox>

                                </children>
                            </VBox>
                        </children>
                    </AnchorPane>

                </VBox>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>
