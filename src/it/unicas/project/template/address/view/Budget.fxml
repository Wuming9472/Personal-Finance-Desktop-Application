<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0" style="-fx-background-color: #f8fafc;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.unicas.project.template.address.view.BudgetController">

    <children>
        <VBox spacing="20.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">

            <padding>
                <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
            </padding>

            <children>

                <!-- HEADER -->
                <HBox alignment="CENTER_LEFT">
                    <children>
                        <VBox>
                            <children>
                                <Label text="Pianificazione Budget" textFill="#1e293b">
                                    <font>
                                        <Font name="System Bold" size="28.0" />
                                    </font>
                                </Label>
                                <Label text="Ottimizza le tue spese mensili per categoria" textFill="#64748b">
                                    <font>
                                        <Font size="14.0" />
                                    </font>
                                </Label>
                            </children>
                        </VBox>
                        <Region HBox.hgrow="ALWAYS" />
                        <Button mnemonicParsing="false" onAction="#handleEditBudget" style="-fx-background-color: white; -fx-border-color: #cbd5e1; -fx-border-radius: 8; -fx-cursor: hand;" text="âš™ Imposta Limiti">
                            <padding>
                                <Insets bottom="10.0" left="20.0" right="20.0" top="10.0" />
                            </padding>
                            <font>
                                <Font name="System Bold" size="14.0" />
                            </font>
                        </Button>
                    </children>
                </HBox>

                <!-- SCROLL PANE PER I BUDGET -->
                <ScrollPane fitToWidth="true" onDragDetected="#handleEditBudget" style="-fx-background-color: transparent; -fx-background: transparent;" VBox.vgrow="ALWAYS">
                    <content>
                        <GridPane hgap="20.0" vgap="20.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="50.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" percentWidth="50.0" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" vgrow="SOMETIMES" />
                            </rowConstraints>
                            <children>

                                <!-- CARD 1: ALIMENTARI -->
                                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 5);">
                                    <padding>
                                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                    </padding>
                                    <children>
                                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                                            <children>
                                                <StackPane>
                                                    <children>
                                                        <Circle fill="#dcfce7" radius="24.0" stroke="TRANSPARENT" strokeType="INSIDE" />
                                                        <Label text="ðŸ¥•" textFill="#16a34a">
                                                            <font>
                                                                <Font size="24.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </StackPane>
                                                <VBox>
                                                    <children>
                                                        <Label fx:id="foodCategoryLabel" text="Alimentari" textFill="#1e293b">
                                                            <font>
                                                                <Font name="System Bold" size="18.0" />
                                                            </font>
                                                        </Label>
                                                        <Label fx:id="foodRemainingLabel" text="Rimasti: â‚¬ 279.50" textFill="#10b981">
                                                            <font>
                                                                <Font name="System Bold" size="13.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </VBox>
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Label fx:id="foodPercentageLabel" text="30%" textFill="#94a3b8">
                                                    <font>
                                                        <Font name="System Bold" size="18.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </HBox>
                                        <VBox spacing="5.0">
                                            <children>
                                                <HBox>
                                                    <children>
                                                        <Label fx:id="foodSpentLabel" text="Spesi: â‚¬ 120.50" textFill="#64748b" />
                                                        <Region HBox.hgrow="ALWAYS" />
                                                        <Label fx:id="foodLimitLabel" text="Limite: â‚¬ 400.00" textFill="#64748b" />
                                                    </children>
                                                </HBox>
                                                <ProgressBar fx:id="foodProgressBar" maxWidth="1.7976931348623157E308" progress="0.3" style="-fx-accent: #10b981; -fx-control-inner-background: #e2e8f0; -fx-text-box-border: transparent;" />
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>

                                <!-- CARD 2: TRASPORTI -->
                                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 5);" GridPane.columnIndex="1">
                                    <padding>
                                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                    </padding>
                                    <children>
                                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                                            <children>
                                                <StackPane>
                                                    <children>
                                                        <Circle fill="#dbeafe" radius="24.0" stroke="TRANSPARENT" strokeType="INSIDE" />
                                                        <Label text="ðŸš—" textFill="#2563eb">
                                                            <font>
                                                                <Font size="24.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </StackPane>
                                                <VBox>
                                                    <children>
                                                        <Label fx:id="transportCategoryLabel" text="Trasporti" textFill="#1e293b">
                                                            <font>
                                                                <Font name="System Bold" size="18.0" />
                                                            </font>
                                                        </Label>
                                                        <Label fx:id="transportRemainingLabel" text="Rimasti: â‚¬ 100.00" textFill="#3b82f6">
                                                            <font>
                                                                <Font name="System Bold" size="13.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </VBox>
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Label fx:id="transportPercentageLabel" text="33%" textFill="#94a3b8">
                                                    <font>
                                                        <Font name="System Bold" size="18.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </HBox>
                                        <VBox spacing="5.0">
                                            <children>
                                                <HBox>
                                                    <children>
                                                        <Label fx:id="transportSpentLabel" text="Spesi: â‚¬ 50.00" textFill="#64748b" />
                                                        <Region HBox.hgrow="ALWAYS" />
                                                        <Label fx:id="transportLimitLabel" text="Limite: â‚¬ 150.00" textFill="#64748b" />
                                                    </children>
                                                </HBox>
                                                <ProgressBar fx:id="transportProgressBar" maxWidth="1.7976931348623157E308" progress="0.33" style="-fx-accent: #3b82f6; -fx-control-inner-background: #e2e8f0; -fx-text-box-border: transparent;" />
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>

                                <!-- CARD 3: SVAGO -->
                                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 5);" GridPane.rowIndex="1">
                                    <padding>
                                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                    </padding>
                                    <children>
                                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                                            <children>
                                                <StackPane>
                                                    <children>
                                                        <Circle fill="#ffedd5" radius="24.0" stroke="TRANSPARENT" strokeType="INSIDE" />
                                                        <Label text="ðŸ¿" textFill="#ea580c">
                                                            <font>
                                                                <Font size="24.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </StackPane>
                                                <VBox>
                                                    <children>
                                                        <Label fx:id="leisureCategoryLabel" text="Svago" textFill="#1e293b">
                                                            <font>
                                                                <Font name="System Bold" size="18.0" />
                                                            </font>
                                                        </Label>
                                                        <Label fx:id="leisureRemainingLabel" text="Attenzione: Quasi al limite" textFill="#f59e0b">
                                                            <font>
                                                                <Font name="System Bold" size="13.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </VBox>
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Label fx:id="leisurePercentageLabel" text="85%" textFill="#f59e0b">
                                                    <font>
                                                        <Font name="System Bold" size="18.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </HBox>
                                        <VBox spacing="5.0">
                                            <children>
                                                <HBox>
                                                    <children>
                                                        <Label fx:id="leisureSpentLabel" text="Spesi: â‚¬ 170.00" textFill="#64748b" />
                                                        <Region HBox.hgrow="ALWAYS" />
                                                        <Label fx:id="leisureLimitLabel" text="Limite: â‚¬ 200.00" textFill="#64748b" />
                                                    </children>
                                                </HBox>
                                                <ProgressBar fx:id="leisureProgressBar" focusTraversable="false" maxWidth="1.7976931348623157E308" progress="0.85" style="-fx-accent: #f59e0b; -fx-control-inner-background: #e2e8f0; -fx-text-box-border: transparent;" />
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>

                                <!-- CARD 4: BOLLETTE -->
                                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 5);" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                    <padding>
                                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                    </padding>
                                    <children>
                                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                                            <children>
                                                <StackPane>
                                                    <children>
                                                        <Circle fill="#fee2e2" radius="24.0" stroke="TRANSPARENT" strokeType="INSIDE" />
                                                        <Label text="ðŸ’¡" textFill="#dc2626">
                                                            <font>
                                                                <Font size="24.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </StackPane>
                                                <VBox>
                                                    <children>
                                                        <Label fx:id="billsCategoryLabel" text="Bollette" textFill="#1e293b">
                                                            <font>
                                                                <Font name="System Bold" size="18.0" />
                                                            </font>
                                                        </Label>
                                                        <Label fx:id="billsRemainingLabel" text="Rimasti: â‚¬ 189.80" textFill="#ef4444">
                                                            <font>
                                                                <Font name="System Bold" size="13.0" />
                                                            </font>
                                                        </Label>
                                                    </children>
                                                </VBox>
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Label fx:id="billsPercentageLabel" text="36%" textFill="#94a3b8">
                                                    <font>
                                                        <Font name="System Bold" size="18.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </HBox>
                                        <VBox spacing="5.0">
                                            <children>
                                                <HBox>
                                                    <children>
                                                        <Label fx:id="billsSpentLabel" text="Spesi: â‚¬ 110.20" textFill="#64748b" />
                                                        <Region HBox.hgrow="ALWAYS" />
                                                        <Label fx:id="billsLimitLabel" text="Limite: â‚¬ 300.00" textFill="#64748b" />
                                                    </children>
                                                </HBox>
                                                <ProgressBar fx:id="billsProgressBar" maxWidth="1.7976931348623157E308" progress="0.36" style="-fx-accent: #ef4444; -fx-control-inner-background: #e2e8f0; -fx-text-box-border: transparent;" />
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>

                            </children>
                        </GridPane>
                    </content>
                    <padding>
                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                    </padding>
                </ScrollPane>

            </children>
        </VBox>
    </children>
</AnchorPane>
