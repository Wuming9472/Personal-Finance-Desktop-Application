<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.*?>
<?import javafx.scene.text.*?>

<AnchorPane prefHeight="700.0" prefWidth="1100.0" style="-fx-background-color: #f8fafc;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.unicas.project.template.address.view.MovimentiController">
    <children>
        <ScrollPane fitToHeight="true" fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <content>
                <HBox spacing="20.0">
                    <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                    </padding>
                    <children>

                        <!-- ============================================= -->
                        <!-- COLONNA SINISTRA: INSERIMENTO (Panel Form) -->
                        <!-- ============================================= -->
                        <VBox prefHeight="658.0" prefWidth="379.0" spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 10, 0, 0, 4);">
                            <padding>
                                <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                            </padding>
                            <children>
                                <Label text="Nuova Transazione" textFill="#1e293b">
                                    <font>
                                        <Font name="System Bold" size="20.0" />
                                    </font>
                                </Label>
                                <Separator />

                                <!-- IMPORTO (Grande) -->
                                <VBox spacing="5.0">
                                    <children>
                                        <Label text="Importo (€)" textFill="#64748b" />
                                        <TextField fx:id="amountField" promptText="0.00" style="-fx-background-color: #f1f5f9; -fx-background-radius: 8; -fx-font-size: 18px; -fx-font-weight: bold; -fx-alignment: CENTER-RIGHT;" />
                                    </children>
                                </VBox>

                                <!-- TIPO E DATA -->
                                <HBox spacing="10.0">
                                    <children>
                                        <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                                            <children>
                                                <Label text="Tipo" textFill="#64748b" />
                                                <ComboBox fx:id="typeField" maxWidth="1.7976931348623157E308" style="-fx-background-color: #f1f5f9; -fx-background-radius: 8;" />
                                            </children>
                                        </VBox>
                                        <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                                            <children>
                                                <Label text="Data" textFill="#64748b" />
                                                <DatePicker fx:id="dateField" maxHeight="26.0" maxWidth="1.7976931348623157E308" prefHeight="26.0" prefWidth="130.0" style="-fx-background-color: #f1f5f9; -fx-background-radius: 8;" />
                                            </children>
                                        </VBox>
                                    </children>
                                </HBox>

                                <!-- CATEGORIA (Menu a tendina) -->
                                <VBox spacing="5.0">
                                    <children>
                                        <Label text="Categoria" textFill="#64748b" />
                                        <ComboBox fx:id="categoryField" maxWidth="1.7976931348623157E308" promptText="Seleziona..." style="-fx-background-color: #f1f5f9; -fx-background-radius: 8;" />
                                    </children>
                                </VBox>

                                <!-- METODO PAGAMENTO (Menu a tendina) -->
                                <VBox spacing="5.0">
                                    <children>
                                        <Label text="Metodo Pagamento (Opzionale)" textFill="#64748b" />
                                        <ComboBox fx:id="methodField" editable="true" maxWidth="1.7976931348623157E308" promptText="Seleziona..." style="-fx-background-color: #f1f5f9; -fx-background-radius: 8;" />
                                    </children>
                                </VBox>

                                <!-- DESCRIZIONE (Area di testo limitata) -->
                                <VBox spacing="5.0">
                                    <children>
                                        <HBox alignment="CENTER_LEFT">
                                            <children>
                                                <Label text="Titolo (Opzionale)" textFill="#64748b" />
                                                <Region HBox.hgrow="ALWAYS" />
                                                <Label fx:id="charCountLabel" text="0/100" textFill="#cbd5e1">
                                                    <font>
                                                        <Font size="10.0" />
                                                    </font>
                                                </Label>
                                            </children>
                                        </HBox>
                                        <!-- TextArea per scrivere di più, ma piccola -->
                                        <TextArea fx:id="descArea" prefHeight="80.0" promptText="Note aggiuntive..." style="-fx-background-color: transparent; -fx-border-color: #e2e8f0; -fx-border-radius: 8; -fx-background-radius: 8;" wrapText="true" />
                                    </children>
                                </VBox>

                                <Region VBox.vgrow="ALWAYS" />

                                <!-- BOTTONE SALVA -->
                                <Button defaultButton="true" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#handleNewTransaction" prefHeight="45.0" style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-background-radius: 8; -fx-cursor: hand;" text="REGISTRA MOVIMENTO">
                                    <font>
                                        <Font name="System Bold" size="14.0" />
                                    </font>
                                    <effect>
                                        <DropShadow height="15.0" radius="7.0" width="15.0">
                                            <color>
                                                <Color red="0.23" green="0.5" blue="0.96" opacity="0.3" />
                                            </color>
                                        </DropShadow>
                                    </effect>
                                </Button>

                            </children>
                        </VBox>

                        <!-- ============================================= -->
                        <!-- COLONNA DESTRA: TABELLA DATI -->
                        <!-- ============================================= -->
                        <VBox spacing="10.0" HBox.hgrow="ALWAYS">
                            <children>
                                <HBox alignment="CENTER_LEFT">
                                    <children>
                                        <Label text="Storico Transazioni" textFill="#1e293b">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Region HBox.hgrow="ALWAYS" />
                                        <Button mnemonicParsing="false" onAction="#handleDeleteTransaction" style="-fx-background-color: white; -fx-border-color: #ef4444; -fx-text-fill: #ef4444; -fx-border-radius: 6; -fx-cursor: hand;" text="Elimina Selezionati" />
                                    </children>
                                </HBox>

                                <TableView fx:id="transactionTable" prefHeight="622.0" prefWidth="494.0" style="-fx-background-color: white; -fx-background-radius: 8; -fx-border-radius: 8; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.05), 5, 0, 0, 2);" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="dateColumn" prefWidth="100.0" text="DATA" />
                                        <TableColumn fx:id="typeColumn" prefWidth="90.0" style="-fx-alignment: CENTER;" text="TIPO" />
                                        <TableColumn fx:id="categoryColumn" prefWidth="140.0" text="CATEGORIA" />
                                        <TableColumn fx:id="titleColumn" prefWidth="250.0" text="TITOLO" />
                                        <TableColumn fx:id="paymentMethodColumn" prefWidth="130.0" text="METODO" />
                                        <TableColumn fx:id="amountColumn" prefWidth="120.0" style="-fx-alignment: CENTER-RIGHT;" text="IMPORTO" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                </TableView>
                            </children>
                        </VBox>

                    </children>
                </HBox>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>
